(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const M of i.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&m(M)}).observe(document,{childList:!0,subtree:!0});function u(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function m(o){if(o.ep)return;o.ep=!0;const i=u(o);fetch(o.href,i)}})();const l=document.getElementById("arrow-up"),d=document.getElementById("arrow-right"),s=document.getElementById("arrow-down"),a=document.getElementById("arrow-left"),b=document.querySelector(".game");if(!b)throw new Error("Game var error");const I=document.querySelector(".replay-button");if(!I)throw new Error("Replay button error");const P=document.querySelector(".time-counter"),B=document.querySelector(".corn-counter");if(!P||!B)throw new Error("Display input error");const S=`<p class="intro">Welcome to the MAIZE. <br> "That's a very clever play on words" I hear you say.<br>
Well,  I agree. <br>
But this isn't about me, it's about you! <br>
You are a Corn person who loves gathering corn.
<br> Your task is to collect all the delicious corns before the timer runs out. <br>
If the timer runs out, goodbye my sweet friend, I'll see you in the theatres. <br>
Press enter to continue.
(you can also click on the d-pad)
</p>`,T='<img src="./src/assets/logo-92c8d2bb.svg" alt="super maize boy" width="40%" height="90%"/>',r='<img src="./src/assets/corn-e070da5d.svg" alt="corn icon" width="40%" height="90%"/>',c={levelOne:!1,levelTwo:!1,levelThree:!1,levelFour:!1},R=()=>{if(O<2){const e=w(5);e[0][0].innerHTML=T,E(e),g(e),e[1][0].id="blocked",e[1][1].id="blocked",e[1][2].id="blocked",e[1][3].id="blocked",e[3][1].id="blocked",e[3][2].id="blocked",e[3][3].id="blocked",e[3][4].id="blocked",e[0][4].id="corn",e[2][0].id="corn",e[4][4].id="corn",e[0][4].innerHTML=r,e[2][0].innerHTML=r,e[4][4].innerHTML=r}},q=()=>{const e=w(6);e[0][0].innerHTML=T,E(e),g(e),e[0][1].id="blocked",e[1][1].id="blocked",e[2][1].id="blocked",e[4][0].id="blocked",e[4][1].id="blocked",e[2][2].id="blocked",e[2][3].id="blocked",e[4][2].id="blocked",e[2][4].id="blocked",e[4][4].id="blocked",e[4][5].id="blocked",e[5][0].id="corn",e[5][5].id="corn",e[0][2].id="corn",e[0][3].id="corn",e[0][4].id="corn",e[0][5].id="corn",e[1][2].id="corn",e[1][3].id="corn",e[1][4].id="corn",e[1][5].id="corn",e[5][0].innerHTML=r,e[5][5].innerHTML=r,e[0][2].innerHTML=r,e[0][3].innerHTML=r,e[0][4].innerHTML=r,e[0][5].innerHTML=r,e[1][2].innerHTML=r,e[1][3].innerHTML=r,e[1][4].innerHTML=r,e[1][5].innerHTML=r},A=()=>{const e=w(7);e[0][0].innerHTML=T,E(e),g(e),e[0][4].id="blocked",e[1][0].id="blocked",e[1][1].id="blocked",e[1][2].id="blocked",e[1][4].id="blocked",e[1][6].id="blocked",e[2][2].id="blocked",e[3][2].id="blocked",e[3][1].id="blocked",e[3][4].id="blocked",e[3][5].id="blocked",e[4][5].id="blocked",e[4][6].id="blocked",e[5][1].id="blocked",e[5][2].id="blocked",e[5][3].id="blocked",e[5][5].id="blocked",e[6][3].id="blocked",e[0][6].id="corn",e[2][1].id="corn",e[3][6].id="corn",e[5][6].id="corn",e[6][2].id="corn",e[0][6].innerHTML=r,e[2][1].innerHTML=r,e[3][6].innerHTML=r,e[5][6].innerHTML=r,e[6][2].innerHTML=r},G=()=>{const e=w(8);e[0][0].innerHTML=T,E(e),g(e),e[0][1].id="blocked",e[1][1].id="blocked",e[1][3].id="blocked",e[1][4].id="blocked",e[1][5].id="blocked",e[1][6].id="blocked",e[2][6].id="blocked",e[3][1].id="blocked",e[3][3].id="blocked",e[3][4].id="blocked",e[4][1].id="blocked",e[4][3].id="blocked",e[4][5].id="blocked",e[4][7].id="blocked",e[5][1].id="blocked",e[5][3].id="blocked",e[6][3].id="blocked",e[6][5].id="blocked",e[6][6].id="blocked",e[7][1].id="blocked",e[7][5].id="blocked",e[0][2].id="corn",e[0][7].id="corn",e[2][5].id="corn",e[3][7].id="corn",e[4][0].id="corn",e[4][4].id="corn",e[7][0].id="corn",e[7][3].id="corn",e[7][6].id="corn",e[0][2].innerHTML=r,e[0][7].innerHTML=r,e[2][5].innerHTML=r,e[3][7].innerHTML=r,e[4][0].innerHTML=r,e[4][4].innerHTML=r,e[7][0].innerHTML=r,e[7][3].innerHTML=r,e[7][6].innerHTML=r},h=()=>{b.innerHTML=""},w=e=>{const n=[];b.style.gridTemplateColumns=`repeat(${e}, 1fr)`,b.style.gridTemplateRows=`repeat(${e}, 1fr)`;for(let u=0;u<e;u++){const m=[];for(let o=0;o<e;o++){const i=document.createElement("div");i.classList.add("cell"),b.append(i),m.push(i)}n.push(m)}return n},H=e=>{const n=setInterval(function(){if(P.value=`00: ${String(e)}`,e--,e<0)clearInterval(n),N();else if(c.levelTwo||c.levelThree||c.levelFour){clearInterval(n);return}},1e3)},N=()=>{b.style.removeProperty("grid-template-columns"),b.style.removeProperty("grid-template-rows"),b.innerHTML=`
    <p class="reset">Well, that's a shame. You tried, but failed. These 
    things happen in life, kid. Keep your chin up, turn that CORNer, and try again. </p>
    `;const e=setInterval(()=>{Y(),clearInterval(e)},2e3)};let y=0;const W=e=>{e[k][v].id==="corn"&&(y+=1,B.value=`${y} :`,e[k][v].removeAttribute("id"))},Y=()=>{b.appendChild(I),y=0,I.addEventListener("click",()=>{k=0,v=0,document.removeEventListener("keydown",f),document.removeEventListener("click",t),c.levelOne=!1,c.levelTwo=!1,c.levelThree=!1,c.levelFour=!1,p()})};let k=0,v=0;const L=(e,n,u)=>{let m=k+e,o=v+n;m>=0&&m<u.length&&o>=0&&o<u[0].length&&u[m][o].id!="blocked"&&(u[k][v].innerHTML="",k=m,v=o,u[k][v].innerHTML=T,W(u),p())};let O=1;const p=()=>{if(!c.levelOne){if(!l||!d||!s||!a)throw new Error("Directional var error");k=0,v=0,h(),document.removeEventListener("keydown",f),l.removeEventListener("click",t),d.removeEventListener("click",t),s.removeEventListener("click",t),a.removeEventListener("click",t),c.levelOne=!0,H(10),R()}if(y>=3&&!c.levelTwo){if(!l||!d||!s||!a)throw new Error("Directional var error");k=0,v=0,h(),O=2,document.removeEventListener("keydown",f),l.removeEventListener("click",t),d.removeEventListener("click",t),s.removeEventListener("click",t),a.removeEventListener("click",t),c.levelTwo=!0,H(30),q()}if(y>=13&&!c.levelThree){if(!l||!d||!s||!a)throw new Error("Directional var error");k=0,v=0,h(),O=3,document.removeEventListener("keydown",f),l.removeEventListener("click",t),d.removeEventListener("click",t),s.removeEventListener("click",t),a.removeEventListener("click",t),c.levelThree=!0,H(30),A()}if(y>=18&&!c.levelFour){if(!l||!d||!s||!a)throw new Error("Directional var error");k=0,v=0,h(),document.removeEventListener("keydown",f),l.removeEventListener("click",t),d.removeEventListener("click",t),s.removeEventListener("click",t),a.removeEventListener("click",t),c.levelFour=!0,G()}};let f,t;const E=e=>{f=n=>{n.key=="ArrowUp"||n.key=="w"?L(-1,0,e):n.key=="ArrowRight"||n.key=="d"?L(0,1,e):n.key=="ArrowDown"||n.key=="s"?L(1,0,e):(n.key=="ArrowLeft"||n.key=="a")&&L(0,-1,e)},document.addEventListener("keydown",f)},g=e=>{if(t=n=>{n.target==l?L(-1,0,e):n.target==d?L(0,1,e):n.target==s?L(1,0,e):n.target==a&&L(0,-1,e)},!l||!d||!s||!a)throw new Error("Directional var error");l.addEventListener("click",t),d.addEventListener("click",t),s.addEventListener("click",t),a.addEventListener("click",t)},C=e=>{e.key==="Enter"&&(h(),document.removeEventListener("keydown",C),p())},F=e=>{(e.target==l||e.target==d||e.target==s||e.target==a)&&(h(),document.removeEventListener("click",F),p())};let D=!1;const $=()=>{D||(b.innerHTML=S,D=!0,document.addEventListener("click",F),document.addEventListener("keydown",C))};$();
